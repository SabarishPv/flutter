<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .glass {
            backdrop-filter: blur(16px);
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .gradient-bg {
            background: linear-gradient(135deg, #1e3a8a 0%, #312e81 100%);
        }

        .chat-bubble {
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-indicator span {
            animation: pulse 1.5s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .code-container {
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 12px;
            right: 12px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .code-container:hover .copy-btn {
            opacity: 1;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }
    </style>
</head>

<body class="min-h-screen gradient-bg transition-all duration-300">
    <div class="container mx-auto px-4 py-6 max-w-7xl">
        <header class="glass rounded-2xl p-6 mb-6 shadow-xl">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold text-white mb-2">Flutter AI Assistant</h1>
                    <p class="text-blue-100">Powered by Google Gemini â€¢ Build Flutter apps with AI</p>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="settings-btn"
                        class="p-3 rounded-xl glass hover:bg-white/20 transition-all duration-200">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0 3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z">
                            </path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <div class="grid lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2">
                <div class="glass rounded-2xl shadow-xl h-[70vh] flex flex-col">
                    <div class="p-6 border-b border-white/20 flex-shrink-0">
                        <h2 class="text-xl font-semibold text-white mb-2">AI Chat</h2>
                        <div class="flex items-center space-x-2">
                            <div id="status-indicator" class="w-3 h-3 rounded-full bg-red-400"></div>
                            <span id="status-text" class="text-sm text-blue-100">Not connected</span>
                        </div>
                    </div>

                    <div id="chat-messages" class="flex-1 overflow-y-auto p-6 space-y-6">
                        <div class="chat-bubble flex items-start space-x-4">
                            <div
                                class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0 text-white">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z">
                                    </path>
                                </svg>
                            </div>
                            <div class="glass rounded-xl p-4 max-w-lg">
                                <p class="text-white">Hello! I'm your Flutter AI assistant. I can help you with:</p>
                                <ul class="mt-2 text-blue-100 text-sm space-y-1 list-disc list-inside">
                                    <li>Writing Flutter/Dart code</li>
                                    <li>Debugging and optimization</li>
                                    <li>UI/UX design patterns</li>
                                    <li>Architecture advice</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="p-6 border-t border-white/20 flex-shrink-0">
                        <div class="flex space-x-3">
                            <input type="text" id="user-input"
                                placeholder="Ask me anything about Flutter development..."
                                class="flex-1 bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl px-4 py-3 text-white placeholder-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-400"
                                disabled>
                            <button id="send-btn"
                                class="px-6 py-3 bg-blue-500 hover:bg-blue-600 rounded-xl text-white font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
                                disabled>
                                Send
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="space-y-6 lg:max-h-[70vh] lg:overflow-y-auto">
                <div class="glass rounded-2xl p-6 shadow-xl">
                    <h3 class="text-lg font-semibold text-white mb-4">Quick Actions</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <button
                            data-prompt="Create a new stateful widget for a user profile card with an avatar and name."
                            class="quick-action p-3 glass rounded-xl hover:bg-white/20 transition-all duration-200 text-center">
                            <svg class="w-6 h-6 text-blue-200 mx-auto mb-2" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                            </svg>
                            <p class="text-xs text-blue-100">New Widget</p>
                        </button>
                        <button
                            data-prompt="I have this code that is not working, can you help me debug it? [PASTE YOUR CODE HERE]"
                            class="quick-action p-3 glass rounded-xl hover:bg-white/20 transition-all duration-200 text-center">
                            <svg class="w-6 h-6 text-blue-200 mx-auto mb-2" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">
                                </path>
                            </svg>
                            <p class="text-xs text-blue-100">Debug Code</p>
                        </button>
                        <button
                            data-prompt="Give me some ideas for a modern and clean UI design for a login screen in Flutter."
                            class="quick-action p-3 glass rounded-xl hover:bg-white/20 transition-all duration-200 text-center">
                            <svg class="w-6 h-6 text-blue-200 mx-auto mb-2" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                                </path>
                            </svg>
                            <p class="text-xs text-blue-100">UI Design</p>
                        </button>
                        <button
                            data-prompt="How can I optimize the performance of my Flutter ListView with a large number of items?"
                            class="quick-action p-3 glass rounded-xl hover:bg-white/20 transition-all duration-200 text-center">
                            <svg class="w-6 h-6 text-blue-200 mx-auto mb-2" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                            <p class="text-xs text-blue-100">Optimize</p>
                        </button>
                    </div>
                </div>

                <div class="glass rounded-2xl p-6 shadow-xl">
                    <h3 class="text-lg font-semibold text-white mb-4">SSD Setup Reference</h3>
                    <div class="space-y-4 text-xs text-blue-200 mono">
                        <pre class="bg-black/30 p-3 rounded-md overflow-x-auto">/Volumes/TAP/app/
â”œâ”€â”€ flutter/
â”œâ”€â”€ Android Studio.app
â””â”€â”€ ...etc</pre>
                        <pre
                            class="bg-black/30 p-3 rounded-md overflow-x-auto">export ANDROID_SDK_ROOT="/Volumes/TAP/app"</pre>
                    </div>
                </div>

                <div class="glass rounded-2xl p-6 shadow-xl">
                    <h3 class="text-lg font-semibold text-white mb-4">Project Status</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-blue-100">Flutter & Android SDK</span>
                            <span class="text-green-400 text-sm font-medium">âœ“ Ready</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-blue-100">Gemini API</span>
                            <span id="api-status" class="text-red-400 text-sm font-medium">âœ— Not Configured</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="settings-modal"
            class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50">
            <div class="glass rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-semibold text-white">Settings</h2>
                    <button id="close-settings" class="p-2 rounded-lg hover:bg-white/20 transition-all duration-200">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="space-y-6">
                    <div>
                        <label class="block text-blue-100 text-sm font-medium mb-2">Gemini API Key</label>
                        <input type="password" id="api-key-input" placeholder="Enter your Gemini API key"
                            class="w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg px-4 py-3 text-white placeholder-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <p class="text-xs text-blue-200 mt-2">Get your key from <a
                                href="https://aistudio.google.com/app/apikey" target="_blank"
                                class="underline hover:text-blue-100">Google AI Studio</a></p>
                    </div>
                    <div>
                        <label class="block text-blue-100 text-sm font-medium mb-2">Model</label>
                        <select id="model-select"
                            class="w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-400">
                            <option value="gemini-1.5-flash-latest">Gemini 1.5 Flash (Recommended)</option>
                            <option value="gemini-1.5-pro-latest">Gemini 1.5 Pro</option>
                        </select>
                    </div>
                    <div class="flex space-x-3 pt-4">
                        <button id="save-settings"
                            class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-medium transition-all duration-200">Save</button>
                        <button id="test-api"
                            class="flex-1 bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition-all duration-200">Test
                            API</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class FlutterAIAssistant {
            constructor() {
                this.apiKey = localStorage.getItem('gemini-api-key') || '';
                this.model = localStorage.getItem('gemini-model') || 'gemini-1.5-flash-latest';
                this.isConnected = false;

                this.initializeUI();
                this.setupEventListeners();
                this.loadSettings();
            }

            initializeUI() {
                this.chatMessages = document.getElementById('chat-messages');
                this.userInput = document.getElementById('user-input');
                this.sendBtn = document.getElementById('send-btn');
                this.statusIndicator = document.getElementById('status-indicator');
                this.statusText = document.getElementById('status-text');
                this.apiStatus = document.getElementById('api-status');
                this.settingsModal = document.getElementById('settings-modal');
                this.apiKeyInput = document.getElementById('api-key-input');
                this.modelSelect = document.getElementById('model-select');
            }

            setupEventListeners() {
                this.sendBtn.addEventListener('click', () => this.sendMessage());
                this.userInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });

                document.getElementById('settings-btn').addEventListener('click', () => this.settingsModal.classList.replace('hidden', 'flex'));
                document.getElementById('close-settings').addEventListener('click', () => this.settingsModal.classList.replace('flex', 'hidden'));

                document.getElementById('save-settings').addEventListener('click', () => this.saveSettings());
                document.getElementById('test-api').addEventListener('click', () => this.testAPI());

                document.querySelectorAll('.quick-action').forEach(btn => {
                    btn.addEventListener('click', () => this.handleQuickAction(btn.dataset.prompt));
                });

                this.chatMessages.addEventListener('click', (e) => {
                    if (e.target.closest('.copy-btn')) {
                        this.handleCopy(e.target.closest('.copy-btn'));
                    }
                });
            }

            loadSettings() {
                this.apiKeyInput.value = this.apiKey;
                this.modelSelect.value = this.model;
                if (this.apiKey) {
                    this.updateConnectionStatus(true);
                    this.enableChat();
                }
            }

            saveSettings() {
                this.apiKey = this.apiKeyInput.value.trim();
                this.model = this.modelSelect.value;
                localStorage.setItem('gemini-api-key', this.apiKey);
                localStorage.setItem('gemini-model', this.model);
                if (this.apiKey) {
                    this.updateConnectionStatus(true);
                    this.enableChat();
                    this.showNotification('Settings saved successfully!', 'success');
                } else {
                    this.updateConnectionStatus(false);
                    this.disableChat();
                }
                this.settingsModal.classList.replace('flex', 'hidden');
            }

            async testAPI() {
                const testApiKey = this.apiKeyInput.value.trim();
                if (!testApiKey) {
                    this.showNotification('Please enter an API key first.', 'error');
                    return;
                }
                this.showNotification('Testing API connection...', 'info');
                try {
                    await this.callGeminiAPI('Hello! Just testing the connection.', testApiKey);
                    this.showNotification('API connection successful!', 'success');
                } catch (error) {
                    this.showNotification(`API connection failed: ${error.message}`, 'error');
                }
            }

            updateConnectionStatus(connected) {
                this.isConnected = connected;
                if (connected) {
                    this.statusIndicator.className = 'w-3 h-3 rounded-full bg-green-400';
                    this.statusText.textContent = 'Connected to Gemini';
                    this.apiStatus.innerHTML = '<span class="font-medium text-green-400">âœ“ Connected</span>';
                } else {
                    this.statusIndicator.className = 'w-3 h-3 rounded-full bg-red-400';
                    this.statusText.textContent = 'Not connected';
                    this.apiStatus.innerHTML = '<span class="font-medium text-red-400">âœ— Not Configured</span>';
                }
            }

            enableChat() {
                this.userInput.disabled = false;
                this.sendBtn.disabled = false;
                this.userInput.placeholder = 'Ask anything about Flutter...';
            }

            disableChat() {
                this.userInput.disabled = true;
                this.sendBtn.disabled = true;
                this.userInput.placeholder = 'Please configure your API key in settings...';
            }

            async sendMessage() {
                const message = this.userInput.value.trim();
                if (!message || !this.isConnected) return;
                this.userInput.value = '';
                this.addMessage(message, 'user');
                this.showTypingIndicator();
                try {
                    const response = await this.callGeminiAPI(this.buildPrompt(message), this.apiKey);
                    this.addMessage(response, 'assistant');
                } catch (error) {
                    this.addMessage(`Sorry, I encountered an error: ${error.message}`, 'assistant');
                } finally {
                    this.hideTypingIndicator();
                }
            }

            buildPrompt(userMessage) {
                return `You are a Flutter development expert assistant powered by Google Gemini. Your user is working on a Mac with their entire Flutter and Android SDK setup on an external SSD at /Volumes/TAP/app. Keep this context in mind if they ask about file paths or environment issues. Provide clear, practical solutions with code examples. Focus on best practices, modern Flutter patterns, and sound architecture. Format your responses using Markdown. Use Dart code blocks for Flutter code. User Question: ${userMessage}. Response:`;
            }

            async callGeminiAPI(prompt, apiKey) {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${this.model}:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: prompt }] }],
                        generationConfig: { temperature: 0.7, maxOutputTokens: 4096 }
                    })
                });
                const data = await response.json();
                if (!response.ok) throw new Error(data.error?.message || `API request failed: ${response.status}`);
                if (data.candidates?.[0]?.content?.parts?.[0]?.text) {
                    return data.candidates[0].content.parts[0].text;
                }
                throw new Error(data.promptFeedback?.blockReason?.reason || 'No valid response from API.');
            }

            addMessage(content, sender) {
                const messageDiv = document.createElement('div');
                const isUser = sender === 'user';
                messageDiv.className = `chat-bubble flex items-start space-x-4 ${isUser ? 'justify-end' : ''}`;

                const avatar = isUser
                    ? `<div class="w-8 h-8 rounded-full bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center flex-shrink-0 order-2 text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div>`
                    : `<div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0 text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div>`;

                const messageBody = `<div class="glass rounded-xl p-4 max-w-xl ${isUser ? 'order-1' : ''}">${this.processMarkdown(content)}</div>`;
                messageDiv.innerHTML = `${avatar}${messageBody}`;

                this.chatMessages.appendChild(messageDiv);
                this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
                if (!isUser) Prism.highlightAllUnder(messageDiv);
            }

            processMarkdown(text) {
                let html = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                html = html.replace(/```(\w*)\n([\s\S]+?)```/g, (match, lang, code) => {
                    const language = lang || 'dart';
                    return `</p><div class="code-container my-4 text-sm">
                        <pre class="rounded-lg"><code class="language-${language}">${code.trim()}</code></pre>
                        <button class="copy-btn px-3 py-1 bg-gray-800/50 hover:bg-gray-700/50 rounded-md text-xs text-gray-300 font-medium">Copy</button>
                    </div><p>`;
                });
                html = html.replace(/`([^`]+)`/g, '<code class="mono bg-black/30 text-blue-200 px-1.5 py-0.5 rounded">$1</code>');
                html = html.replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold text-white">$1</strong>');
                html = html.replace(/^\s*\*\s(.+)/gm, '<li class="ml-4">$1</li>');
                html = html.replace(/<\/li>\n<li/g, '</li><li');
                html = html.replace(/<li/g, '<ul class="list-disc list-inside space-y-1 my-2"><li');
                html = html.replace(/<\/li>(?!<li)/g, '</li></ul>');
                return `<p class="text-white">${html.replace(/\n\n/g, '</p><p>').replace(/\n/g, '<br>')}</p>`;
            }

            handleCopy(button) {
                const code = button.closest('.code-container').querySelector('code').textContent;
                navigator.clipboard.writeText(code).then(() => {
                    button.textContent = 'Copied!';
                    setTimeout(() => { button.textContent = 'Copy'; }, 2000);
                });
            }

            showTypingIndicator() {
                const indicator = document.createElement('div');
                indicator.id = 'typing-indicator';
                indicator.className = 'chat-bubble flex items-start space-x-4';
                indicator.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0 text-white">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    </div>
                    <div class="glass rounded-xl p-4">
                        <div class="typing-indicator flex items-center space-x-1.5">
                           <span class="w-2 h-2 bg-gray-300 rounded-full"></span>
                           <span class="w-2 h-2 bg-gray-300 rounded-full"></span>
                           <span class="w-2 h-2 bg-gray-300 rounded-full"></span>
                        </div>
                    </div>`;
                this.chatMessages.appendChild(indicator);
                this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
            }

            hideTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) indicator.remove();
            }

            handleQuickAction(prompt) {
                this.userInput.value = prompt;
                this.userInput.focus();
            }

            showNotification(message, type = 'info') {
                const colors = {
                    info: 'bg-blue-500',
                    success: 'bg-green-500',
                    error: 'bg-red-500'
                };
                const notification = document.createElement('div');
                notification.className = `fixed top-5 right-5 text-white px-6 py-3 rounded-lg shadow-lg z-50 ${colors[type]}`;
                notification.textContent = message;
                document.body.appendChild(notification);
                setTimeout(() => notification.remove(), 3000);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            new FlutterAIAssistant();
        });
    </script>
</body>

</html>